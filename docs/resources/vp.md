---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "iamtf_vp Resource - terraform-provider-iamtf"
subcategory: ""
description: |-
  
---

# iamtf_vp (Resource)





<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `ida` (String) identity appliane name
- `keystore` (Block List, Min: 1) Keystore configuration.  A single keystore containing the private key and certificate is supported. (see [below for nested schema](#nestedblock--keystore))
- `name` (String) vp name, unique in the appliance scope

### Optional

- `attributes` (Block List, Max: 1) attributes mappings.  Define IdP claim mappings. (see [below for nested schema](#nestedblock--attributes))
- `dashboard_url` (String) External user dashborad URL
- `description` (String) provider description
- `error_binding` (String) how error information is encoded and shared with a custom user dashboard
- `id_sources` (Set of String) list of identity sources used by the IDP.  At least one is required.
- `idp` (Block List) SP to IDP SAML 2 settings (see [below for nested schema](#nestedblock--idp))
- `oauth2` (Block List, Max: 1) OAuth2 protocol settings.  This is maily used by JOSSO internally, for SSO connetions OpenID Connect is the recommended protocol, which is a superset of OAuth2 (see [below for nested schema](#nestedblock--oauth2))
- `oidc` (Block List, Max: 1) OpenID Connect protocol settings.  This is the recommended SSO protocol. You must combine this with **iamtf_app_odic** resources (Applications) (see [below for nested schema](#nestedblock--oidc))
- `saml2_idp` (Block List, Max: 1) IDP SAML2 protocol settings (see [below for nested schema](#nestedblock--saml2_idp))
- `saml2_sp` (Block List) SP SAML 2 settings (see [below for nested schema](#nestedblock--saml2_sp))
- `session_timeout` (Number) SSO session timeout (minutes, default 30)
- `sp` (Block List) IDP to SP SAML 2 settings. Optional, only required is specific SAML IdP settings are required by the SP (see [below for nested schema](#nestedblock--sp))
- `subject_authn_policies` (Block List) todo add description for subject authens policies (see [below for nested schema](#nestedblock--subject_authn_policies))

### Read-Only

- `element_id` (String) element id
- `id` (String) The ID of this resource.

<a id="nestedblock--keystore"></a>
### Nested Schema for `keystore`

Required:

- `password` (String, Sensitive) PKCS12 keystore password
- `resource` (String) PKCS12 keystore in base64 format

Optional:

- `alias` (String) Certificate and private key alias (optional)
- `key_password` (String, Sensitive) PKCS12 private key password (optional, the store password is used if not present)


<a id="nestedblock--attributes"></a>
### Nested Schema for `attributes`

Optional:

- `include_unmapped_claims` (Boolean) when using a custom profile, include unmapped claims
- `map` (Block Set) Custom attribute mappings (see [below for nested schema](#nestedblock--attributes--map))
- `profile` (String) Attribute profile to use

<a id="nestedblock--attributes--map"></a>
### Nested Schema for `attributes.map`

Required:

- `mapping` (String) value to us when doing the mapping, depending on the type this will be an existing claim name, a constant value or an expresison value
- `name` (String) name of the new claim

Optional:

- `format` (String) how the new claim name should be formatted.  Basic if the name will be used as is, URN to add a default SAML2 urn to the claim
- `type` (String) mapping type.  claim if you want to man an existing claim to a new name.  const if you want to add a new constant value as claim.  exp if you want to create a claim using an expression



<a id="nestedblock--idp"></a>
### Nested Schema for `idp`

Required:

- `name` (String) name of the trusted IdP

Optional:

- `is_preferred` (Boolean) identifies this IdP as the preferred one (only one IdP must be set to preferred)
- `saml2` (Block List) SP SAML 2 settings (see [below for nested schema](#nestedblock--idp--saml2))

<a id="nestedblock--idp--saml2"></a>
### Nested Schema for `idp.saml2`

Optional:

- `account_linkage` (String) account linkage: which attribute to use as UID from the IdP.
- `bindings` (Block List, Max: 1) enabled SAML bindings (see [below for nested schema](#nestedblock--idp--saml2--bindings))
- `identity_mapping` (String) how the user identity should be mapped for this SP. LOCAL means that the user claims will be retrieved from an identity source connected to the SP.  REMOTE means that claims from the IdP will be used. MERGE is a mix of both claim sets (LOCAL and REMOTE)
- `message_ttl` (Number) SAML message time to live
- `message_ttl_tolerance` (Number) SAML message time to live tolerance
- `sign_authentication_requests` (Boolean) sign authentication requests issued to IdPs
- `sign_requests` (Boolean) sign requests issued to IdPs
- `signature_hash` (String) saml signature hash algorithm
- `want_assertion_signed` (Boolean) require signed assertions from IdPs

<a id="nestedblock--idp--saml2--bindings"></a>
### Nested Schema for `idp.saml2.bindings`

Optional:

- `artifact` (Boolean) use Artifact binding
- `http_post` (Boolean) use HTTP POST binding
- `http_redirect` (Boolean) use HTTP REDIRECT binding
- `local` (Boolean) use LOCAL binding
- `soap` (Boolean) use SOAP binding




<a id="nestedblock--oauth2"></a>
### Nested Schema for `oauth2`

Required:

- `shared_key` (String) IDP secret key to be shared with the OAuth client

Optional:

- `enabled` (Boolean) enable OAuth2 protocol for this IDP
- `rememberme_token_validity` (Number) remember me token validity (sec, default 43200)
- `token_validity` (Number) token validity (sec, default 300)


<a id="nestedblock--oidc"></a>
### Nested Schema for `oidc`

Optional:

- `access_token_ttl` (Number) access token time to live (sec)
- `authz_code_ttl` (Number) authorization code time to live (sec)
- `enabled` (Boolean) enable OIDC for this IDP
- `id_token_ttl` (Number) id token time to live (sec)
- `user_claims_in_access_token` (Boolean) include user claims in access token


<a id="nestedblock--saml2_idp"></a>
### Nested Schema for `saml2_idp`

Optional:

- `bindings` (Block List, Max: 1) enabled SAML bindings (see [below for nested schema](#nestedblock--saml2_idp--bindings))
- `encrypt_algorithm` (String) encrypt assertion algorithm
- `message_ttl` (Number) message ttl (sec)
- `message_ttl_tolerance` (Number) message ttl tolerance (sec)
- `sign_reqs` (Boolean) sign all requests to SPs
- `signature_hash` (String) signature hash algorithm
- `want_authn_req_signed` (Boolean) want authn requests signed by SPs
- `want_req_signed` (Boolean) want requests signed by SPs

<a id="nestedblock--saml2_idp--bindings"></a>
### Nested Schema for `saml2_idp.bindings`

Optional:

- `artifact` (Boolean) use Artifact binding
- `http_post` (Boolean) use HTTP POST binding
- `http_redirect` (Boolean) use HTTP REDIRECT binding
- `local` (Boolean) use LOCAL binding
- `soap` (Boolean) use SOAP binding



<a id="nestedblock--saml2_sp"></a>
### Nested Schema for `saml2_sp`

Optional:

- `account_linkage` (String) account linkage: which attribute to use as UID from the IdP.
- `bindings` (Block List, Max: 1) enabled SAML bindings (see [below for nested schema](#nestedblock--saml2_sp--bindings))
- `identity_mapping` (String) how the user identity should be mapped for this SP. LOCAL means that the user claims will be retrieved from an identity source connected to the SP.  REMOTE means that claims from the IdP will be used. MERGE is a mix of both claim sets (LOCAL and REMOTE)
- `message_ttl` (Number) SAML message time to live
- `message_ttl_tolerance` (Number) SAML message time to live tolerance
- `sign_authentication_requests` (Boolean) sign authentication requests issued to IdPs
- `sign_requests` (Boolean) sign requests issued to IdPs
- `signature_hash` (String) saml signature hash algorithm
- `want_assertion_signed` (Boolean) require signed assertions from IdPs

<a id="nestedblock--saml2_sp--bindings"></a>
### Nested Schema for `saml2_sp.bindings`

Optional:

- `artifact` (Boolean) use Artifact binding
- `http_post` (Boolean) use HTTP POST binding
- `http_redirect` (Boolean) use HTTP REDIRECT binding
- `local` (Boolean) use LOCAL binding
- `soap` (Boolean) use SOAP binding



<a id="nestedblock--sp"></a>
### Nested Schema for `sp`

Required:

- `name` (String) name of the trusted sp. It normally is the name of the application plus the -sp suffix

Optional:

- `saml2` (Block List, Max: 1) IDP SAML2 protocol settings (see [below for nested schema](#nestedblock--sp--saml2))

<a id="nestedblock--sp--saml2"></a>
### Nested Schema for `sp.saml2`

Optional:

- `bindings` (Block List, Max: 1) enabled SAML bindings (see [below for nested schema](#nestedblock--sp--saml2--bindings))
- `encrypt_algorithm` (String) encrypt assertion algorithm
- `message_ttl` (Number) message ttl (sec)
- `message_ttl_tolerance` (Number) message ttl tolerance (sec)
- `sign_reqs` (Boolean) sign all requests to SPs
- `signature_hash` (String) signature hash algorithm
- `want_authn_req_signed` (Boolean) want authn requests signed by SPs
- `want_req_signed` (Boolean) want requests signed by SPs

<a id="nestedblock--sp--saml2--bindings"></a>
### Nested Schema for `sp.saml2.bindings`

Optional:

- `artifact` (Boolean) use Artifact binding
- `http_post` (Boolean) use HTTP POST binding
- `http_redirect` (Boolean) use HTTP REDIRECT binding
- `local` (Boolean) use LOCAL binding
- `soap` (Boolean) use SOAP binding




<a id="nestedblock--subject_authn_policies"></a>
### Nested Schema for `subject_authn_policies`

Required:

- `name` (String) Todo


